import{a as T,h as A}from"./chunk-74OX6Y4S.js";import{b as E}from"./chunk-B7RGQ5BI.js";import{a as w}from"./chunk-WFEVQXLO.js";import{a as x}from"./chunk-WGGHPKW2.js";import{$ as n,L as h,M as i,N as l,Nb as P,Ob as M,P as C,Pb as O,Qb as I,Rb as S,Sb as k,Ta as b,_ as f,aa as o,ba as d,ga as p,lc as y,pa as _,qa as c,ra as m,sa as v}from"./chunk-JZWGHJIW.js";var q=(()=>{let a=class a{constructor(e,r,t){this.router=e,this.commonStateService=r,this.productsApiService=t,this.s3=w.s3,this.data=null,T({heart:A})}navigate(){var e;this.commonStateService.pendingByTime(),this.router.navigate(["tabs","all",(e=this.data)==null?void 0:e.id])}like(e){e.preventDefault(),e.stopPropagation(),this.data&&this.productsApiService.like(this.data.id).subscribe()}buy(e){e.preventDefault(),e.stopPropagation(),this.data&&this.productsApiService.buy(this.data.id).subscribe()}};a.\u0275fac=function(r){return new(r||a)(l(b),l(x),l(E))},a.\u0275cmp=C({type:a,selectors:[["app-compact-card"]],inputs:{data:"data"},decls:20,vars:7,consts:[[1,"compact-card",3,"click"],[1,"heart-button"],["size","small","fill","clear","color","primary",3,"click"],["name","heart",1,"heart-icon"],["alt","Image",1,"image",3,"src"],["color","danger",1,"price"],[1,"content"],[1,"name"],[1,"city"],[1,"description"],[1,"buy-button"],["expand","full","color","warning",3,"click"],["name","cart"]],template:function(r,t){r&1&&(n(0,"ion-card",0),p("click",function(){return t.navigate()}),n(1,"div",1)(2,"ion-button",2),p("click",function(u){return t.like(u)}),d(3,"ion-icon",3),o()(),d(4,"img",4),n(5,"ion-card-header")(6,"div",5),c(7),o()(),n(8,"ion-card-content",6)(9,"ion-card-title")(10,"div",7),c(11),o()(),n(12,"ion-card-subtitle",8),c(13),o(),n(14,"div",9),c(15),o()(),n(16,"div",10)(17,"ion-button",11),p("click",function(u){return t.buy(u)}),d(18,"ion-icon",12),c(19," \u041A\u0443\u043F\u0438\u0442\u044C "),o()()()),r&2&&(i(3),_("liked",!1),i(),f("src",!(t.data==null||t.data.photos==null)&&t.data.photos.length?t.s3+(t.data==null||t.data.photos==null?null:t.data.photos[0]):"assets/images/card-image.png",h),i(3),v("",t.data==null?null:t.data.price,"\u20BD"),i(4),m(t.data==null?null:t.data.name),i(2),m(t.data==null?null:t.data.city),i(2),m(t.data==null?null:t.data.description))},dependencies:[y,P,M,O,I,S,k],styles:[".compact-card[_ngcontent-%COMP%]{display:flex;margin:0;flex-direction:column;height:100%;min-height:250px}.compact-card[_ngcontent-%COMP%]   .heart-button[_ngcontent-%COMP%]{position:absolute;top:1px;right:1px;z-index:10;color:#fff}.compact-card[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{border-radius:8px;width:100%;height:41%;min-height:41%;max-height:41%;object-fit:cover}.compact-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding:8px}.compact-card[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;-webkit-line-clamp:1;text-overflow:ellipsis;margin-top:4px}.compact-card[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.compact-card[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-weight:700;color:#f07}.compact-card[_ngcontent-%COMP%]   .buy-button[_ngcontent-%COMP%]{margin-top:auto;border-radius:8px}.compact-card[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:17px}.compact-card[_ngcontent-%COMP%]   .heart-icon[_ngcontent-%COMP%]{color:wheat}.compact-card[_ngcontent-%COMP%]   .liked[_ngcontent-%COMP%]{color:#f07}.content[_ngcontent-%COMP%]{padding-bottom:4px}"]});let s=a;return s})();export{q as a};
